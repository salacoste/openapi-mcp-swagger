# Story 4.6: Developer Documentation and Examples

## Story Overview
**Epic**: Epic 4 - CLI Tool & Developer Experience
**Story ID**: 4.6
**Story Type**: Documentation & Examples
**Complexity**: Medium
**Sprint**: TBD

## User Story
As a developer,
I want comprehensive documentation with practical examples and troubleshooting guides,
So that I can effectively use the tool and resolve issues independently.

## Story Context

### Business Value
- Enables rapid user onboarding and reduces support burden through self-service documentation
- Provides practical examples that demonstrate real-world usage patterns and best practices
- Delivers troubleshooting guidance that helps users resolve issues independently
- Supports tool adoption by lowering learning curve and providing clear usage guidance

### Dependencies
**Depends On:**
- Story 4.1: Core CLI Framework and Command Structure (CLI commands to document)
- Story 4.2: Swagger to MCP Server Conversion Command (conversion examples)
- Story 4.3: MCP Server Management and Control (server management examples)
- Story 4.4: Configuration Management and Customization (configuration examples)
- Story 4.5: Installation and Setup Automation (installation procedures)

**Enables:**
- Complete Epic 4 delivery with comprehensive user documentation and support materials
- User self-sufficiency and reduced learning curve for tool adoption
- Community engagement and contribution through clear documentation standards

### Technical Context
**Existing System Integration:**
- Integrates with: All CLI functionality, configuration system, examples and templates
- Technology: Markdown documentation, code examples, tutorial structure, reference documentation
- Follows pattern: Documentation best practices, example-driven learning, troubleshooting methodologies
- Touch points: CLI help system, configuration templates, example projects, error messages

## Story Status
**Current Status**: âœ… Story 4.6: Developer Documentation and Examples (Ready for Review)

**Completed Components:**
âœ… Comprehensive documentation architecture with structured navigation
âœ… Quick Start Tutorial with 5-minute setup guide and practical examples
âœ… Complete CLI Reference documentation with all commands and options
âœ… Practical examples including sample Swagger files and configuration templates
âœ… MCP Protocol API reference with client libraries and integration patterns
âœ… Troubleshooting guide with common issues and step-by-step solutions
âœ… Integration examples for VS Code + Continue and other AI tools
âœ… Configuration management guide with environment-specific examples
âœ… Sample APIs (e-commerce platform) with realistic schemas and endpoints
âœ… Developer onboarding documentation with best practices

**Documentation Structure Created:**
- **Main Documentation Hub**: `docs/README.md` with comprehensive navigation
- **Getting Started**: Installation guide, quick start tutorial, basic configuration
- **CLI Reference**: Complete command reference with examples and options
- **Practical Examples**: Sample Swagger files, configuration templates, integration guides
- **Troubleshooting**: Common issues, error reference, diagnostic procedures
- **API Reference**: MCP protocol documentation with client libraries
- **Guides**: Deployment, performance tuning, security configuration

**Key Deliverables:**
- **Quick Start Tutorial**: Step-by-step 5-minute setup guide with sample API
- **CLI Reference**: Comprehensive documentation of all commands and options
- **Sample APIs**: Realistic e-commerce API with 45 endpoints and 23 schemas
- **Integration Examples**: VS Code + Continue integration with configuration
- **Configuration Templates**: Development and production-ready configurations
- **Troubleshooting Guide**: Solutions to common installation and runtime issues
- **API Documentation**: Complete MCP protocol reference with client examples

## Acceptance Criteria

### Functional Requirements
1. **Comprehensive CLI Documentation**
   - Create complete CLI documentation with all commands, options, and usage examples
   - Document command syntax, parameter descriptions, and expected behaviors
   - Provide command-specific examples for common use cases and workflows
   - Include help text integration with CLI commands for contextual assistance

2. **Quick Start Guide and Tutorial**
   - Provide step-by-step quick start guide from installation to first working MCP server
   - Create tutorial using sample Swagger files with realistic API documentation
   - Include end-to-end workflow examples: convert â†’ serve â†’ status â†’ configuration
   - Demonstrate integration with popular AI coding assistants and MCP clients

3. **Practical Examples and Use Cases**
   - Create example configurations for different deployment scenarios and environments
   - Provide sample Swagger files representing different API patterns and complexities
   - Include integration examples with popular AI coding assistants (VS Code, Cursor, etc.)
   - Demonstrate advanced usage patterns and optimization techniques

### Integration Requirements
4. **Troubleshooting and Problem Resolution**
   - Include comprehensive troubleshooting section with common issues and solutions
   - Provide diagnostic procedures for installation, configuration, and runtime problems
   - Create error message reference with explanations and resolution steps
   - Include performance troubleshooting and optimization guidance

5. **Configuration Reference and Best Practices**
   - Document all configuration options with descriptions, examples, and valid value ranges
   - Provide configuration best practices for different deployment environments
   - Include security configuration guidance and production deployment recommendations
   - Create configuration migration guides for version upgrades and environment changes

6. **Integration Documentation and API Reference**
   - Document MCP protocol integration for custom AI agent development
   - Provide API reference for programmatic usage and extension development
   - Include examples for extending the tool with custom functionality
   - Document plugin architecture and customization points

### Quality Requirements
7. **Documentation Accuracy and Completeness**
   - All documented features and examples work correctly with current tool version
   - Documentation coverage includes all CLI commands, configuration options, and major workflows
   - Code examples are tested and validated for accuracy and functionality
   - Version-specific documentation maintains compatibility with release versions

8. **User Experience and Accessibility**
   - Documentation is organized logically with clear navigation and search capabilities
   - Examples progress from simple to complex with appropriate learning curve
   - Troubleshooting information is easily discoverable and actionable
   - Documentation supports different learning styles: reference, tutorial, example-driven

9. **Maintenance and Version Management**
   - Documentation structure supports easy updates and version management
   - Automated validation ensures examples remain functional with code changes
   - Documentation versioning aligns with tool releases and maintains backward compatibility
   - Community contribution guidelines enable external documentation improvements

## Technical Implementation Notes

### Documentation Structure
```markdown
# swagger-mcp-server Documentation

## Table of Contents

### Getting Started
- [Installation Guide](installation.md)
- [Quick Start Tutorial](quickstart.md)
- [Basic Configuration](basic-config.md)

### CLI Reference
- [Command Reference](cli-reference.md)
- [Configuration Management](configuration.md)
- [Server Management](server-management.md)

### Examples
- [Sample Swagger Files](examples/swagger-files/)
- [Configuration Examples](examples/configurations/)
- [Integration Examples](examples/integrations/)

### Guides
- [Deployment Guide](deployment.md)
- [Performance Tuning](performance.md)
- [Security Configuration](security.md)

### Troubleshooting
- [Common Issues](troubleshooting.md)
- [Error Messages](error-reference.md)
- [Diagnostic Tools](diagnostics.md)

### API Reference
- [MCP Protocol Integration](api/mcp-protocol.md)
- [Extension Points](api/extensions.md)
- [Development Guide](api/development.md)
```

### Quick Start Tutorial Implementation
```markdown
# Quick Start Guide

This guide will help you convert your first Swagger file to a working MCP server in under 5 minutes.

## Prerequisites

- Python 3.9 or higher
- A Swagger/OpenAPI JSON file (we'll provide a sample)

## Step 1: Installation

Install openapi-mcp-swagger using pip:

```bash
pip install openapi-mcp-swagger
```

Verify installation:

```bash
swagger-mcp-server --version
```

## Step 2: Download Sample API

Download our sample e-commerce API for this tutorial:

```bash
curl -o sample-api.json https://raw.githubusercontent.com/salacoste/openapi-mcp-swagger/main/swagger-openapi-data/swagger.json
```

Or use your own Swagger file if you prefer.

## Step 3: Convert to MCP Server

Convert the Swagger file to a working MCP server:

```bash
swagger-mcp-server convert sample-api.json --name ecommerce-server
```

You should see output similar to:

```
ðŸ“‹ Validating input file...
âœ… Validating input file completed (0.2s)

ðŸ“‹ Parsing Swagger specification...
âœ… Parsing Swagger specification completed (1.1s)

ðŸ“‹ Building search index...
âœ… Building search index completed (2.3s)

ðŸ“‹ Generating MCP server...
âœ… Generating MCP server completed (0.8s)

âœ… Conversion completed successfully!
   Output directory: ./mcp-server-ecommerce-server
   Endpoints processed: 24
   Schemas indexed: 12
   Server ready to start
```

## Step 4: Start the MCP Server

Navigate to the generated directory and start the server:

```bash
cd mcp-server-ecommerce-server
swagger-mcp-server serve
```

The server will start and display:

```
ðŸš€ Starting MCP server on localhost:8080
   Press Ctrl+C to stop server

âœ… MCP server ready for connections
   AI agents can now query API documentation
   Available methods: searchEndpoints, getSchema, getExample
```

## Step 5: Test with AI Agent

Open a new terminal and test the server with a sample query:

```bash
curl -X POST http://localhost:8080 \
  -H "Content-Type: application/json" \
  -d '{
    "jsonrpc": "2.0",
    "id": 1,
    "method": "searchEndpoints",
    "params": {
      "keywords": "user authentication",
      "httpMethods": ["POST"]
    }
  }'
```

You should receive a JSON response with relevant authentication endpoints.

## Next Steps

- **Configure the server**: Edit `config.yaml` to customize behavior
- **Manage servers**: Use `swagger-mcp-server status` to monitor performance
- **Integrate with AI tools**: Connect your favorite AI coding assistant
- **Explore advanced features**: Check out our [Configuration Guide](configuration.md)

**Need help?** See our [Troubleshooting Guide](troubleshooting.md) or [FAQ](faq.md).
```

### CLI Reference Documentation
```markdown
# Command Reference

Complete reference for all swagger-mcp-server CLI commands.

## Global Options

All commands support these global options:

| Option | Short | Description | Default |
|--------|-------|-------------|---------|
| `--verbose` | `-v` | Enable verbose output | False |
| `--quiet` | `-q` | Enable quiet mode | False |
| `--config` | `-c` | Configuration file path | `~/.swagger-mcp-server/config.yaml` |
| `--help` | `-h` | Show help message | - |

## Commands

### convert

Convert Swagger/OpenAPI file to MCP server.

```bash
swagger-mcp-server convert <swagger-file> [OPTIONS]
```

#### Arguments

- `swagger-file`: Path to Swagger/OpenAPI JSON file (required)

#### Options

| Option | Short | Type | Description | Default |
|--------|-------|------|-------------|---------|
| `--output` | `-o` | PATH | Output directory | `./mcp-server-{name}` |
| `--port` | `-p` | INTEGER | Default server port | 8080 |
| `--name` | `-n` | TEXT | Server name | From Swagger title |
| `--dry-run` | - | FLAG | Preview without generating | False |
| `--validate-only` | - | FLAG | Validate file only | False |

#### Examples

**Basic conversion:**
```bash
swagger-mcp-server convert api.json
```

**Custom output directory and port:**
```bash
swagger-mcp-server convert api.json --output ./my-server --port 9000
```

**Preview conversion:**
```bash
swagger-mcp-server convert api.json --dry-run
```

**Validate Swagger file:**
```bash
swagger-mcp-server convert api.json --validate-only
```

### serve

Start MCP server instance.

```bash
swagger-mcp-server serve [OPTIONS]
```

#### Options

| Option | Short | Type | Description | Default |
|--------|-------|------|-------------|---------|
| `--config` | `-c` | PATH | Server configuration file | Auto-detect |
| `--port` | `-p` | INTEGER | Server port | 8080 |
| `--host` | `-h` | TEXT | Server host | localhost |
| `--daemon` | `-d` | FLAG | Run in background | False |
| `--name` | `-n` | TEXT | Server instance name | Auto-generate |

#### Examples

**Start with defaults:**
```bash
swagger-mcp-server serve
```

**Custom host and port:**
```bash
swagger-mcp-server serve --host 0.0.0.0 --port 9000
```

**Background daemon:**
```bash
swagger-mcp-server serve --daemon --name production-server
```

**With configuration file:**
```bash
swagger-mcp-server serve --config ./production-config.yaml
```

### status

Show MCP server status and metrics.

```bash
swagger-mcp-server status [OPTIONS]
```

#### Options

| Option | Short | Type | Description | Default |
|--------|-------|------|-------------|---------|
| `--all` | `-a` | FLAG | Show all servers | False |
| `--server-id` | `-s` | TEXT | Specific server ID | - |
| `--json` | - | FLAG | JSON output | False |
| `--watch` | `-w` | FLAG | Continuous monitoring | False |

#### Examples

**Show all servers:**
```bash
swagger-mcp-server status --all
```

**Monitor specific server:**
```bash
swagger-mcp-server status --server-id my-server
```

**Continuous monitoring:**
```bash
swagger-mcp-server status --all --watch
```

**JSON output for scripts:**
```bash
swagger-mcp-server status --all --json
```
```

### Configuration Examples Documentation
```markdown
# Configuration Examples

Sample configurations for different deployment scenarios.

## Development Configuration

Optimized for local development with debugging enabled:

```yaml
# config/development.yaml
server:
  host: localhost
  port: 8080
  max_connections: 10
  timeout: 60
  ssl:
    enabled: false

database:
  path: ./dev_mcp_server.db
  pool_size: 2
  timeout: 30
  backup:
    enabled: false

search:
  engine: whoosh
  index_directory: ./dev_search_index
  field_weights:
    endpoint_path: 1.5
    description: 1.0
    parameters: 0.8
  performance:
    cache_size_mb: 32
    max_results: 100

logging:
  level: DEBUG
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  file: ./dev_server.log
  rotation:
    enabled: false
```

## Production Configuration

Production-ready with security and performance optimization:

```yaml
# config/production.yaml
server:
  host: 0.0.0.0
  port: 8080
  max_connections: 100
  timeout: 30
  ssl:
    enabled: true
    cert_file: /etc/ssl/certs/mcp-server.crt
    key_file: /etc/ssl/private/mcp-server.key

database:
  path: /var/lib/mcp-server/mcp_server.db
  pool_size: 10
  timeout: 10
  backup:
    enabled: true
    interval: 86400  # 24 hours
    retention: 7     # 7 days

search:
  engine: whoosh
  index_directory: /var/lib/mcp-server/search_index
  field_weights:
    endpoint_path: 1.5
    description: 1.0
    parameters: 0.8
  performance:
    cache_size_mb: 128
    max_results: 1000

logging:
  level: INFO
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  file: /var/log/mcp-server/server.log
  rotation:
    enabled: true
    max_size_mb: 10
    backup_count: 5
```

## Container Configuration

Optimized for containerized deployments:

```yaml
# config/container.yaml
server:
  host: 0.0.0.0
  port: 8080
  max_connections: 50
  timeout: 30

database:
  path: /data/mcp_server.db
  pool_size: 5

search:
  index_directory: /data/search_index
  performance:
    cache_size_mb: 64

logging:
  level: INFO
  # Log to stdout in containers
  file: null
```

## Environment Variables

Override configuration with environment variables:

```bash
# Server configuration
export SWAGGER_MCP_SERVER_HOST=0.0.0.0
export SWAGGER_MCP_SERVER_PORT=9000
export SWAGGER_MCP_SERVER_MAX_CONNECTIONS=200

# Database configuration
export SWAGGER_MCP_DB_PATH=/data/production.db
export SWAGGER_MCP_DB_POOL_SIZE=20

# Logging configuration
export SWAGGER_MCP_LOG_LEVEL=INFO
export SWAGGER_MCP_LOG_FILE=/var/log/server.log
```
```

### Troubleshooting Documentation
```markdown
# Troubleshooting Guide

Common issues and their solutions.

## Installation Issues

### Python Version Error

**Problem:**
```
Python 3.9 or higher is required
```

**Solution:**
1. Check your Python version: `python --version`
2. Install Python 3.9+ from [python.org](https://python.org)
3. Use virtual environment: `python3.9 -m venv venv && source venv/bin/activate`

### Permission Denied During Installation

**Problem:**
```
PermissionError: [Errno 13] Permission denied
```

**Solution:**
1. Install in user space: `pip install --user swagger-mcp-server`
2. Use virtual environment (recommended)
3. Use sudo only if necessary: `sudo pip install swagger-mcp-server`

## Conversion Issues

### Invalid Swagger File

**Problem:**
```
Error: Invalid OpenAPI specification
```

**Solution:**
1. Validate Swagger file at [editor.swagger.io](https://editor.swagger.io)
2. Check JSON syntax with `python -m json.tool api.json`
3. Use `--validate-only` flag to see detailed validation errors

### Large File Processing

**Problem:**
Server hangs or fails with large Swagger files (>5MB).

**Solution:**
1. Increase system memory if possible
2. Use streaming conversion: `swagger-mcp-server convert --stream api.json`
3. Split large APIs into smaller, focused services

## Runtime Issues

### Port Already in Use

**Problem:**
```
Error: Port 8080 is already in use
```

**Solution:**
1. Use different port: `swagger-mcp-server serve --port 9000`
2. Find and stop conflicting service: `lsof -i :8080`
3. Configure default port in config file

### Database Connection Errors

**Problem:**
```
DatabaseError: unable to open database file
```

**Solution:**
1. Check file permissions: `ls -la mcp_server.db`
2. Verify directory exists and is writable
3. Use absolute path in configuration: `/full/path/to/database.db`

### Search Index Corruption

**Problem:**
Search returns no results or errors during queries.

**Solution:**
1. Rebuild search index: `swagger-mcp-server rebuild-index`
2. Clear index directory: `rm -rf search_index/`
3. Re-convert Swagger file to regenerate index

## Performance Issues

### Slow Response Times

**Problem:**
MCP server responds slowly to queries (>1 second).

**Solution:**
1. Increase cache size in configuration:
   ```yaml
   search:
     performance:
       cache_size_mb: 128
   ```
2. Optimize database connection pool:
   ```yaml
   database:
     pool_size: 10
   ```
3. Monitor server resources: `swagger-mcp-server status --all`

### High Memory Usage

**Problem:**
Server consumes excessive memory (>500MB).

**Solution:**
1. Reduce cache size and connection limits
2. Enable database backup to reduce memory pressure
3. Restart server periodically for long-running instances

## Integration Issues

### AI Agent Connection Problems

**Problem:**
AI agents cannot connect to MCP server.

**Solution:**
1. Check server is running: `swagger-mcp-server status`
2. Verify network connectivity: `curl http://localhost:8080/health`
3. Check firewall settings if connecting remotely
4. Use correct MCP protocol format in agent configuration

### SSL/TLS Certificate Issues

**Problem:**
```
SSL certificate verification failed
```

**Solution:**
1. Verify certificate files exist and are readable
2. Check certificate validity: `openssl x509 -in cert.pem -text -noout`
3. Use self-signed certificates for development only
4. Disable SSL for local development if needed

## Getting More Help

### Diagnostic Information

Collect diagnostic information for support:

```bash
# System information
swagger-mcp-server --version
python --version
uname -a

# Configuration
swagger-mcp-server config show

# Server status
swagger-mcp-server status --all --json

# Logs
tail -50 ~/.swagger-mcp-server/server.log
```

### Community Support

- **GitHub Issues**: [Report bugs and request features](https://github.com/swagger-mcp-server/swagger-mcp-server/issues)
- **Discussions**: [Community discussions and questions](https://github.com/swagger-mcp-server/swagger-mcp-server/discussions)
- **Documentation**: [Full documentation](https://docs.swagger-mcp-server.com)
```

## Definition of Done
- [ ] Comprehensive CLI documentation with all commands, options, and usage examples
- [ ] Quick start guide with step-by-step tutorial from installation to working MCP server
- [ ] Practical examples including sample Swagger files and configuration templates
- [ ] Troubleshooting section with common issues, diagnostic procedures, and solutions
- [ ] Configuration reference documenting all options with descriptions and valid ranges
- [ ] Integration documentation for AI coding assistants and MCP protocol usage
- [ ] Performance tuning guide with optimization recommendations and best practices
- [ ] Security configuration guidance for production deployments and hardening
- [ ] Error message reference with explanations and resolution procedures
- [ ] API reference for programmatic usage and extension development
- [ ] Community contribution guidelines and documentation maintenance procedures
- [ ] Documentation validation ensures all examples work with current tool version
- [ ] Cross-platform documentation covers installation and usage on all supported systems
- [ ] Version management system maintains documentation compatibility with releases
- [ ] Search functionality enables easy discovery of relevant documentation sections

## Validation Criteria
- All documented features and examples work correctly with current tool version
- Quick start tutorial enables new users to achieve success within 10 minutes
- Troubleshooting guidance resolves 80%+ of common user issues without external support
- Configuration documentation enables users to customize tool for their specific needs
- Integration examples work with popular AI coding assistants and development environments
- Documentation structure supports efficient information discovery and navigation

## Risk Assessment
**Medium Risk** - Documentation maintenance and example accuracy challenges

**Primary Risks:**
- Documentation becoming outdated as tool features evolve and change
- Code examples breaking due to changes in dependencies or CLI interface
- Troubleshooting information becoming incomplete as new issues emerge
- Cross-platform documentation complexity affecting accuracy and completeness

**Mitigation Strategies:**
- Automated testing of documentation examples in CI/CD pipeline
- Documentation review process integrated with feature development workflow
- Community contribution system for maintaining troubleshooting information
- Version-specific documentation branches to maintain compatibility
- Regular documentation audits and updates aligned with release cycles

**Rollback Plan:**
- Maintain previous documentation versions if updates introduce errors
- Provide basic command-line help if comprehensive documentation fails
- Support community wiki if official documentation becomes unmaintainable
- Focus on essential documentation if comprehensive coverage becomes too complex

## Story Estimation
**Complexity**: Medium
**Effort**: 3-4 development sessions (12-16 hours)
**Risk Level**: Medium
**Dependencies**: 5 (Stories 4.1, 4.2, 4.3, 4.4, 4.5)